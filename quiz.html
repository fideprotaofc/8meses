<html lang="pt-BR" class="scroll-smooth">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Quiz Rom√¢ntico Fofo</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script&family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
<style>
  /* Base & Fonts */
  body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #fce4ec 0%, #f3e5f5 50%, #ede7f6 100%);
    color: #6b2c5b;
    min-height: 100vh;
    overflow-x: hidden;
  }
  .font-script {
    font-family: 'Dancing Script', cursive;
  }
  /* Scrollbar hidden for mobile */
  ::-webkit-scrollbar {
    display: none;
  }
  html {
    scroll-behavior: smooth;
  }
  /* Loading Screen */
  #loadingScreen {
    background: radial-gradient(circle at center, #fce4ec 0%, #f3e5f5 80%);
    box-shadow: inset 0 0 60px #f48fb1;
  }
  .typing-text {
    overflow: hidden;
    white-space: nowrap;
    border-right: 3px solid #f48fb1;
    animation: typing 4s steps(35, end), blinkCaret 0.75s step-end infinite;
    font-size: 2.5rem;
    max-width: 90vw;
    text-align: center;
    color: #ad1457;
    text-shadow: 0 0 8px #f48fb1;
  }
  @keyframes typing {
    from { width: 0 }
    to { width: 100% }
  }
  @keyframes blinkCaret {
    0%, 100% { border-color: transparent }
    50% { border-color: #f48fb1 }
  }
  /* Heart pulse animation */
  @keyframes pulseHeart {
    0%, 100% {
      transform: scale(1);
      filter: drop-shadow(0 0 0 #f48fb1);
    }
    50% {
      transform: scale(1.25);
      filter: drop-shadow(0 0 12px #f48fb1);
    }
  }
  .pulse-heart {
    animation: pulseHeart 1.5s infinite;
  }
  /* Button pulse on hover */
  .btn-pulse:hover {
    animation: pulseHeart 1s infinite;
  }
  /* Fade transitions */
  .fade-enter {
    opacity: 0;
    transform: translateX(20px);
  }
  .fade-enter-active {
    opacity: 1;
    transform: translateX(0);
    transition: opacity 0.5s ease, transform 0.5s ease;
  }
  .fade-exit {
    opacity: 1;
    transform: translateX(0);
  }
  .fade-exit-active {
    opacity: 0;
    transform: translateX(-20px);
    transition: opacity 0.5s ease, transform 0.5s ease;
  }
  /* Alert animation */
  @keyframes fadeInOut {
    0% {opacity: 0; transform: translateY(20px);}
    10% {opacity: 1; transform: translateY(0);}
    90% {opacity: 1; transform: translateY(0);}
    100% {opacity: 0; transform: translateY(-20px);}
  }
  .animate-fadeInOut {
    animation: fadeInOut 3s ease forwards;
  }
  /* Confetti hearts */
  .confetti-heart {
    position: fixed;
    font-size: 1.5rem;
    color: #f48fb1;
    animation: floatUp 5s linear forwards;
    user-select: none;
    pointer-events: none;
    filter: drop-shadow(0 0 4px #f48fb1);
  }
  @keyframes floatUp {
    0% {
      opacity: 1;
      transform: translateY(0) rotate(0deg);
    }
    100% {
      opacity: 0;
      transform: translateY(-150vh) rotate(360deg);
    }
  }
  /* Input & Button styles */
  input[type="text"] {
    font-family: 'Poppins', sans-serif;
    font-weight: 600;
    font-size: 1.1rem;
    border: 2px solid #f48fb1;
    background: #fff0f6;
    color: #6b2c5b;
    border-radius: 1.5rem;
    padding: 0.75rem 1.25rem;
    box-shadow: 0 0 10px #f8bbd0;
    transition: all 0.3s ease;
  }
  input[type="text"]:focus {
    outline: none;
    border-color: #ad1457;
    box-shadow: 0 0 15px #ad1457;
    background: #fce4ec;
  }
  label {
    user-select: none;
  }
  /* Radio buttons */
  input[type="radio"] {
    accent-color: #f48fb1;
    width: 1.3rem;
    height: 1.3rem;
    cursor: pointer;
  }
  /* Buttons */
  button {
    font-family: 'Poppins', sans-serif;
    font-weight: 700;
    border-radius: 2rem;
    box-shadow: 0 4px 15px rgba(244, 143, 177, 0.5);
    transition: all 0.3s ease;
    cursor: pointer;
    user-select: none;
  }
  button:disabled {
    cursor: not-allowed;
    opacity: 0.5;
    box-shadow: none;
  }
  button:hover:not(:disabled) {
    filter: drop-shadow(0 0 10px #f48fb1);
  }
  /* Progress bar */
  .progress-bar {
    background: #fce4ec;
    border-radius: 1.5rem;
    box-shadow: inset 0 0 10px #f8bbd0;
    height: 1.5rem;
    overflow: hidden;
  }
  .progress-bar-fill {
    background: linear-gradient(90deg, #f48fb1, #ad1457);
    height: 100%;
    border-radius: 1.5rem;
    transition: width 0.4s ease;
    box-shadow: 0 0 10px #ad1457;
  }
  /* Container */
  #quizContainer {
    max-width: 420px;
    width: 100%;
    background: #fff0f6;
    border-radius: 2.5rem;
    box-shadow:
      0 0 20px rgba(244, 143, 177, 0.3),
      inset 0 0 30px rgba(244, 143, 177, 0.15);
    padding: 2.5rem 2rem 3rem 2rem;
    margin: 3rem auto 4rem auto;
    color: #6b2c5b;
    position: relative;
  }
  /* Question number */
  #questionNumber {
    font-size: 1.25rem;
    color: #ad1457;
    font-weight: 700;
    letter-spacing: 0.05em;
    text-shadow: 0 0 6px #f48fb1;
  }
  /* Question text */
  #questionText {
    font-size: 1.8rem;
    font-weight: 700;
    color: #6b2c5b;
    margin-bottom: 1.5rem;
    text-align: center;
    text-shadow: 0 0 8px #f48fb1;
  }
  /* Answers form */
  #answersForm label {
    background: #fce4ec;
    border-radius: 1.5rem;
    padding: 1rem 1.5rem;
    box-shadow: 0 0 10px #f8bbd0;
    transition: background 0.3s ease, box-shadow 0.3s ease;
    display: flex;
    align-items: center;
  }
  #answersForm label:hover {
    background: #f8bbd0;
    box-shadow: 0 0 20px #f48fb1;
  }
  #answersForm input[type="radio"]:checked + span {
    color: #ad1457;
    font-weight: 800;
    text-shadow: 0 0 10px #ad1457;
  }
  #answersForm span {
    margin-left: 1rem;
    font-size: 1.15rem;
    user-select: none;
  }
  /* Input container */
  #inputContainer {
    margin-bottom: 1.5rem;
  }
  /* Counter container */
  #counterContainer {
    font-size: 1.15rem;
    font-weight: 700;
    color: #ad1457;
    text-align: center;
    margin-bottom: 1rem;
    text-shadow: 0 0 6px #f48fb1;
  }
  /* Progress container */
  #progressContainer {
    margin-bottom: 1.5rem;
  }
  /* Next button */
  #nextBtn {
    background: linear-gradient(135deg, #f48fb1, #ad1457);
    color: white;
    font-size: 1.25rem;
    padding: 0.75rem 3rem;
    box-shadow: 0 6px 15px rgba(244, 143, 177, 0.7);
    user-select: none;
  }
  #nextBtn:disabled {
    background: #f8bbd0;
    box-shadow: none;
    color: #9e5a7a;
  }
  /* Heart icons container */
  .hearts-top {
    position: absolute;
    top: 1.5rem;
    right: 1.5rem;
    display: flex;
    gap: 0.5rem;
  }
  /* Final screen */
  #finalScreen {
    background: linear-gradient(135deg, #fce4ec 0%, #f3e5f5 50%, #ede7f6 100%);
    box-shadow: inset 0 0 60px #f48fb1;
    z-index: 1000;
  }
  #finalText {
    font-size: 3rem;
    color: #ad1457;
    font-weight: 900;
    text-align: center;
    text-shadow:
      0 0 10px #f48fb1,
      0 0 20px #f48fb1,
      0 0 30px #ad1457;
    user-select: none;
  }
  /* Beauty bar pulse */
  .pulse-heart {
    animation: pulseHeart 1.5s infinite;
  }
  /* Beauty bar container */
  .beauty-bar-container {
    background: #fce4ec;
    border-radius: 1.5rem;
    box-shadow: inset 0 0 15px #f8bbd0;
    height: 1.8rem;
    overflow: hidden;
    margin-bottom: 1.5rem;
  }
  .beauty-bar-fill {
    background: linear-gradient(90deg, #f48fb1, #ad1457);
    height: 100%;
    border-radius: 1.5rem;
    transition: width 0.4s ease;
    box-shadow: 0 0 15px #ad1457;
  }
  /* Beauty controls */
  .beauty-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 2rem;
  }
  .beauty-controls button {
    background: linear-gradient(135deg, #f48fb1, #ad1457);
    color: white;
    width: 3.5rem;
    height: 3.5rem;
    font-size: 1.5rem;
    box-shadow: 0 6px 15px rgba(244, 143, 177, 0.7);
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    user-select: none;
  }
  .beauty-controls button:disabled {
    background: #f8bbd0;
    box-shadow: none;
    color: #9e5a7a;
  }
  .beauty-controls span {
    font-size: 1.8rem;
    font-weight: 900;
    color: #ad1457;
    font-family: 'Dancing Script', cursive;
    user-select: none;
    text-shadow: 0 0 8px #f48fb1;
  }
  /* Dica style */
  #inputContainer > div:first-child {
    font-size: 1.2rem;
    font-weight: 700;
    color: #ad1457;
    text-align: center;
    margin-bottom: 0.75rem;
    font-family: 'Dancing Script', cursive;
    text-shadow: 0 0 6px #f48fb1;
  }
  /* Responsive */
  @media (min-width: 640px) {
    #quizContainer {
      max-width: 480px;
      padding: 3rem 3rem 4rem 3rem;
    }
    #questionText {
      font-size: 2.2rem;
    }
    #nextBtn {
      font-size: 1.5rem;
      padding: 1rem 4rem;
    }
  }

  /* Additional final screen effects */
  /* Floating glowing hearts */
  .floating-heart {
    position: fixed;
    font-size: 2rem;
    color: #f48fb1;
    filter: drop-shadow(0 0 8px #f48fb1);
    animation: floatAndFade 6s ease-in-out infinite;
    user-select: none;
    pointer-events: none;
    opacity: 0.8;
  }
  @keyframes floatAndFade {
    0% {
      transform: translateY(0) translateX(0) scale(1) rotate(0deg);
      opacity: 0.8;
    }
    50% {
      opacity: 1;
      transform: translateY(-40px) translateX(15px) scale(1.2) rotate(15deg);
    }
    100% {
      transform: translateY(0) translateX(0) scale(1) rotate(0deg);
      opacity: 0.8;
    }
  }
  /* Sparkles */
  .sparkle {
    position: fixed;
    width: 6px;
    height: 6px;
    background: radial-gradient(circle, #f48fb1 0%, transparent 70%);
    border-radius: 50%;
    filter: drop-shadow(0 0 6px #f48fb1);
    animation: sparkleAnim 3s linear infinite;
    pointer-events: none;
    user-select: none;
  }
  @keyframes sparkleAnim {
    0% {
      opacity: 0;
      transform: scale(0.5);
    }
    50% {
      opacity: 1;
      transform: scale(1);
    }
    100% {
      opacity: 0;
      transform: scale(0.5);
    }
  }
</style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen px-4">

<!-- Loading Screen -->
<div id="loadingScreen" class="flex flex-col items-center justify-center h-screen w-full fixed top-0 left-0 z-50 select-none">
  <h1 class="typing-text font-script">Resolva o quiz agora,
 Hihihi üíñ</h1>
  <div class="mt-8 flex space-x-3">
    <i class="fas fa-heart text-pink-400 text-3xl pulse-heart" style="animation-delay: 0s;"></i>
    <i class="fas fa-heart text-pink-500 text-5xl pulse-heart" style="animation-delay: 0.3s;"></i>
    <i class="fas fa-heart text-pink-400 text-3xl pulse-heart" style="animation-delay: 0.6s;"></i>
  </div>
</div>

<!-- Main Quiz Container -->
<div id="quizContainer" class="opacity-0">
  <div class="hearts-top">
    <i class="fas fa-heart text-pink-400 text-2xl pulse-heart" style="animation-delay: 0s;"></i>
    <i class="fas fa-heart text-pink-500 text-3xl pulse-heart" style="animation-delay: 0.3s;"></i>
    <i class="fas fa-heart text-pink-400 text-2xl pulse-heart" style="animation-delay: 0.6s;"></i>
  </div>
  <h2 id="questionNumber" class="font-script"></h2>
  <h3 id="questionText" class="font-script"></h3>
  <form id="answersForm" class="space-y-4"></form>
  <div id="inputContainer" class="mb-4"></div>
  <div id="counterContainer"></div>
  <div id="progressContainer"></div>
  <div class="flex justify-center mt-4">
    <button id="nextBtn" disabled>Pr√≥ximo</button>
  </div>
</div>

<!-- Final Screen -->
<div id="finalScreen" class="fixed inset-0 flex flex-col items-center justify-center p-6 opacity-0 pointer-events-none select-none overflow-visible">
  <h1 id="finalText" class="font-script"></h1>
  <div id="confettiContainer" class="relative w-full h-64 overflow-visible mt-8"></div>
</div>

<script>
  // Variables and data
  const loadingScreen = document.getElementById('loadingScreen');
  const quizContainer = document.getElementById('quizContainer');
  const finalScreen = document.getElementById('finalScreen');
  const finalText = document.getElementById('finalText');
  const confettiContainer = document.getElementById('confettiContainer');
  const questionNumberEl = document.getElementById('questionNumber');
  const questionTextEl = document.getElementById('questionText');
  const answersForm = document.getElementById('answersForm');
  const inputContainer = document.getElementById('inputContainer');
  const counterContainer = document.getElementById('counterContainer');
  const progressContainer = document.getElementById('progressContainer');
  const nextBtn = document.getElementById('nextBtn');

  let etapaAtual = 0;

  // For question 6
  const apelidosAceitos = [
    "manuzinha",
    "minha princesa",
    "minha gostosa",
    "minha fadinha azul",
    "minha garota do cabelo rosa",
    "minha branquinha",
    "minha linda",
    "minha delicia",
    "meu pitelzin",
    "meu xuxuzin",
    "Minha peituda"
  ];
  const dicas = [
    "Seu nome no diminutivo",
    "Te trato como realeza üëë",
    "Eu te chamo e vc me chama üòò",
    "Vc √© m√°gica e na cor azul üíô",
    "Vc com aquele cabelo pink üíñ",
    "Eu falo mais c fala q c √© preta KKKKKKKK",
    "Quando vc me chama eu falo q sou feio üíò",
    "√â Delicioso üòã",
    "Tem pitel e √© s√≥ meu üòç",
    "legumezinho q come√ßa com a letra X",
    "Parte do corpo grande ‚ù§Ô∏è"
  ];
  let apelidosAcertados = [];
  let dicaAtualIndex = 0;

  // For question 7
  let belezaPercent = 0;

  // Questions data
  const questions = [
    {
      text: "Qual o nick na minha conta tava quando eu te conheci?",
      type: "options",
      options: [
        { label: "A) MUTANO", value: "MUTANO" },
        { label: "B) FIDEPROTA", value: "FIDEPROTA" },
        { label: "C) TIGR√ÉO", value: "TIGR√ÉO" },
        { label: "D) FIDEPROTAOFC", value: "FIDEPROTAOFC" }
      ],
      correct: "FIDEPROTAOFC"
    },
    {
      text: "Qual o apelido que eu mais te chamo?",
      type: "options",
      options: [
        { label: "A) Manuzinha", value: "Manuzinha" },
        { label: "B) Minha gostosa", value: "Minha gostosa" },
        { label: "C) Minha princesa", value: "Minha princesa" },
        { label: "D) Minha branquinha", value: "Minha branquinha" }
      ],
      correct: "Minha princesa"
    },
    {
      text: "O que eu mais amo em voc√™?",
      type: "text",
      correct: "tudo"
    },
    {
      text: "Qual a data que eu te conheci?",
      type: "options",
      options: [
        { label: "A) 26/08/2024", value: "26/08/2024" },
        { label: "B) 26/09/2024", value: "26/09/2024" },
        { label: "C) 26/10/2024", value: "26/10/2024" },
        { label: "D) 26/11/2024", value: "26/11/2024" }
      ],
      correct: "26/10/2024"
    },
    {
      text: "Quando eu falei o primeiro \"eu te amo\"?",
      type: "options",
      options: [
        { label: "A) 26/10/2024", value: "26/10/2024" },
        { label: "B) 27/10/2024", value: "27/10/2024" },
        { label: "C) 13/11/2024", value: "13/11/2024" },
        { label: "D) 14/11/2024", value: "14/11/2024" }
      ],
      correct: "13/11/2024"
    },
    {
      text: "Quais apelidos mais eu te chamo?",
      type: "apelidos"
    },
    {
      text: "O quanto voc√™ √© linda?",
      type: "beleza"
    },
    {
      text: "Qual jogo eu te conheci?",
      type: "options",
      options: [
        { label: "A) Vizinhos", value: "Vizinhos" },
        { label: "B) Brookhaven", value: "Brookhaven" },
        { label: "C) Quarto Triste", value: "Quarto Triste" },
        { label: "D) Free Fire KAKAKAKAKAKA", value: "Free Fire KAKAKAKAKAKA" }
      ],
      correct: "Vizinhos"
    }
  ];

  // Utility functions
  function clearContainers() {
    answersForm.innerHTML = "";
    inputContainer.innerHTML = "";
    counterContainer.textContent = "";
    progressContainer.innerHTML = "";
    nextBtn.disabled = true;
  }

  function showAlert(message) {
    const alertDiv = document.createElement("div");
    alertDiv.textContent = message;
    alertDiv.className = "fixed bottom-6 left-1/2 transform -translate-x-1/2 bg-pink-300 text-pink-900 font-semibold rounded-3xl px-8 py-4 shadow-lg z-50 animate-fadeInOut select-none";
    alertDiv.style.maxWidth = "90vw";
    alertDiv.style.textAlign = "center";
    alertDiv.style.fontSize = "1.1rem";
    document.body.appendChild(alertDiv);
    setTimeout(() => {
      alertDiv.classList.add("opacity-0");
      setTimeout(() => alertDiv.remove(), 500);
    }, 2800);
  }

  // Render question
  function renderQuestion() {
    clearContainers();
    const q = questions[etapaAtual];
    questionNumberEl.textContent = `Pergunta ${etapaAtual + 1} de ${questions.length}`;
    questionTextEl.textContent = q.text;

    if (q.type === "options") {
      q.options.forEach((opt, idx) => {
        const label = document.createElement("label");
        label.className = "flex items-center space-x-4 cursor-pointer bg-pink-50 rounded-2xl p-4 hover:bg-pink-100 transition-all shadow-md select-none";
        const input = document.createElement("input");
        input.type = "radio";
        input.name = "answer";
        input.value = opt.value;
        input.className = "form-radio text-pink-500 focus:ring-pink-400 w-5 h-5 cursor-pointer";
        input.id = `option${idx}`;
        label.htmlFor = `option${idx}`;
        const span = document.createElement("span");
        span.textContent = opt.label;
        span.className = "text-purple-700 font-semibold text-lg";
        label.appendChild(input);
        label.appendChild(span);
        answersForm.appendChild(label);

        input.addEventListener("change", () => {
          nextBtn.disabled = false;
          if (etapaAtual === 7 && input.value === "Free Fire KAKAKAKAKAKA") {
            showAlert("Seu cu KKKKKKKKK üòÇüòÇüòÇ");
          }
        });
      });
    } else if (q.type === "text") {
      const input = document.createElement("input");
      input.type = "text";
      input.placeholder = "Digite sua resposta aqui...";
      input.className = "w-full rounded-2xl border-2 border-pink-300 px-5 py-4 focus:outline-none focus:ring-4 focus:ring-pink-400 font-semibold text-purple-700 text-lg shadow-inner bg-white";
      inputContainer.appendChild(input);
      input.addEventListener("input", () => {
        nextBtn.disabled = input.value.trim().length === 0;
      });
      input.focus();
    } else if (q.type === "apelidos") {
      const dicaDiv = document.createElement("div");
      dicaDiv.className = "mb-3 text-pink-600 font-semibold font-script text-center text-xl select-none";
      dicaDiv.textContent = `Dica: ${dicas[dicaAtualIndex]}`;
      inputContainer.appendChild(dicaDiv);

      const input = document.createElement("input");
      input.type = "text";
      input.placeholder = "Digite um apelido...";
      input.className = "w-full rounded-2xl border-2 border-pink-300 px-5 py-4 focus:outline-none focus:ring-4 focus:ring-pink-400 font-semibold text-purple-700 text-lg shadow-inner bg-white mb-3";
      inputContainer.appendChild(input);

      counterContainer.textContent = `Apelidos acertados: ${apelidosAcertados.length} / 11`;

      const addBtn = document.createElement("button");
      addBtn.type = "button";
      addBtn.textContent = "Adicionar Apelido";
      addBtn.className = "bg-gradient-to-r from-pink-400 to-pink-600 text-white font-semibold rounded-full px-8 py-3 shadow-lg hover:from-pink-500 hover:to-pink-700 transition-all btn-pulse w-full text-lg select-none";
      addBtn.disabled = true;
      inputContainer.appendChild(addBtn);

      input.addEventListener("input", () => {
        addBtn.disabled = input.value.trim().length === 0;
      });

      addBtn.addEventListener("click", () => {
        const val = input.value.trim().toLowerCase();
        if (!apelidosAceitos.includes(val)) {
          showAlert("Apelido errado, minha lindaah!! üíó");
          input.value = "";
          addBtn.disabled = true;
          return;
        }
        if (apelidosAcertados.includes(val)) {
          showAlert("Esse apelido voc√™ j√° acertou, minha lindaah!! üíó");
          input.value = "";
          addBtn.disabled = true;
          return;
        }
        apelidosAcertados.push(val);
        counterContainer.textContent = `Apelidos acertados: ${apelidosAcertados.length} / 11`;
        input.value = "";
        addBtn.disabled = true;
        dicaAtualIndex++;
        if (dicaAtualIndex < dicas.length) {
          dicaDiv.textContent = `Dica: ${dicas[dicaAtualIndex]}`;
        } else {
          dicaDiv.textContent = "Voc√™ acertou todos os apelidos! Pode avan√ßar üíñ";
          nextBtn.disabled = false;
        }
        input.focus();
      });
      input.focus();
    } else if (q.type === "beleza") {
      const barraContainer = document.createElement("div");
      barraContainer.className = "beauty-bar-container mb-6";
      const barra = document.createElement("div");
      barra.className = "beauty-bar-fill";
      barra.style.width = "0%";
      barraContainer.appendChild(barra);
      progressContainer.appendChild(barraContainer);

      const controls = document.createElement("div");
      controls.className = "beauty-controls";

      const btnMinus = document.createElement("button");
      btnMinus.type = "button";
      btnMinus.innerHTML = '<i class="fas fa-minus"></i>';
      controls.appendChild(btnMinus);

      const percentText = document.createElement("span");
      percentText.textContent = "0%";
      controls.appendChild(percentText);

      const btnPlus = document.createElement("button");
      btnPlus.type = "button";
      btnPlus.innerHTML = '<i class="fas fa-plus"></i>';
      controls.appendChild(btnPlus);

      progressContainer.appendChild(controls);

      btnPlus.addEventListener("click", () => {
        if (belezaPercent < 100) {
          belezaPercent += 10;
          if (belezaPercent > 100) belezaPercent = 100;
          barra.style.width = belezaPercent + "%";
          percentText.textContent = belezaPercent + "%";
          if (belezaPercent === 100) {
            nextBtn.disabled = false;
            barra.classList.add("pulse-heart");
            percentText.classList.add("pulse-heart");
          } else {
            nextBtn.disabled = true;
            barra.classList.remove("pulse-heart");
            percentText.classList.remove("pulse-heart");
          }
        }
      });
      btnMinus.addEventListener("click", () => {
        if (belezaPercent > 0) {
          belezaPercent -= 10;
          if (belezaPercent < 0) belezaPercent = 0;
          barra.style.width = belezaPercent + "%";
          percentText.textContent = belezaPercent + "%";
          if (belezaPercent === 100) {
            nextBtn.disabled = false;
            barra.classList.add("pulse-heart");
            percentText.classList.add("pulse-heart");
          } else {
            nextBtn.disabled = true;
            barra.classList.remove("pulse-heart");
            percentText.classList.remove("pulse-heart");
          }
        }
      });
    }
  }

  // Validate answer
  function validateAnswer() {
    const q = questions[etapaAtual];
    if (q.type === "options") {
      const selected = answersForm.answer?.value;
      if (!selected) return false;
      if (etapaAtual === 7 && selected === "Free Fire KAKAKAKAKAKA") {
        return false;
      }
      return selected === q.correct;
    } else if (q.type === "text") {
      const input = inputContainer.querySelector("input");
      if (!input) return false;
      return input.value.trim().toLowerCase() === q.correct.toLowerCase();
    } else if (q.type === "apelidos") {
      return apelidosAcertados.length === apelidosAceitos.length;
    } else if (q.type === "beleza") {
      return belezaPercent === 100;
    }
    return false;
  }

  // Show positive message
  function showPositiveMessage() {
    const q = questions[etapaAtual];
    if (q.type === "options" || q.type === "text") {
      showAlert("Voc√™ acertou, Minha princesa! üíñ");
    } else if (q.type === "apelidos") {
      showAlert("Voc√™ arrasou, Minha princesa! Todos os apelidos certos! üíó");
    } else if (q.type === "beleza") {
      showAlert("Voc√™ √© 100% linda, Minha princesa! üíï");
    }
  }

  // Show cute message for wrong answer
  function showWrongMessage() {
    showAlert("Quase l√°, tenta de novo, minha lindaah! üíï");
  }

  // Transition fade out and in
  function transitionToNextQuestion() {
    quizContainer.classList.add("opacity-0");
    setTimeout(() => {
      etapaAtual++;
      if (etapaAtual >= questions.length) {
        showFinalScreen();
        return;
      }
      renderQuestion();
      quizContainer.classList.remove("opacity-0");
    }, 600);
  }

  // Show final screen with animation and redirect
  function showFinalScreen() {
    quizContainer.classList.add("opacity-0");
    setTimeout(() => {
      quizContainer.style.display = "none";
      finalScreen.style.pointerEvents = "auto";
      finalScreen.style.opacity = "1";
      finalText.textContent = "";
      animateFinalText("Voc√™ conseguiu, Minha lindaaaah üíó", finalText, () => {
        startConfettiHearts();
        startFloatingHearts();
        startSparkles();
        setTimeout(() => {
          window.location.href = "inicio.html";
        }, 7000);
      });
    }, 700);
  }

  // Animate final text typing effect
  function animateFinalText(text, element, callback) {
    let i = 0;
    element.textContent = "";
    const interval = setInterval(() => {
      element.textContent += text.charAt(i);
      i++;
      if (i >= text.length) {
        clearInterval(interval);
        if (callback) callback();
      }
    }, 100);
  }

  // Confetti hearts animation
  function startConfettiHearts() {
    const colors = ["#f48fb1", "#ce93d8", "#f8bbd0", "#ba68c8", "#f06292"];
    const totalHearts = 40;
    for (let i = 0; i < totalHearts; i++) {
      const heart = document.createElement("i");
      heart.className = "fas fa-heart confetti-heart";
      heart.style.left = Math.random() * 100 + "%";
      heart.style.fontSize = (Math.random() * 1.8 + 1) + "rem";
      heart.style.animationDuration = (3 + Math.random() * 2) + "s";
      heart.style.animationDelay = (Math.random() * 5) + "s";
      heart.style.color = colors[Math.floor(Math.random() * colors.length)];
      confettiContainer.appendChild(heart);
      setTimeout(() => {
        heart.remove();
      }, 8000);
    }
    const confettiInterval = setInterval(() => {
      if (finalScreen.style.opacity === "1") {
        for (let i = 0; i < totalHearts / 2; i++) {
          const heart = document.createElement("i");
          heart.className = "fas fa-heart confetti-heart";
          heart.style.left = Math.random() * 100 + "%";
          heart.style.fontSize = (Math.random() * 1.8 + 1) + "rem";
          heart.style.animationDuration = (3 + Math.random() * 2) + "s";
          heart.style.animationDelay = "0s";
          heart.style.color = colors[Math.floor(Math.random() * colors.length)];
          confettiContainer.appendChild(heart);
          setTimeout(() => {
            heart.remove();
          }, 8000);
        }
      } else {
        clearInterval(confettiInterval);
      }
    }, 5000);
  }

  // Floating glowing hearts animation
  let floatingHeartsInterval;
  function startFloatingHearts() {
    const colors = ["#f48fb1", "#ce93d8", "#f8bbd0", "#ba68c8", "#f06292"];
    floatingHeartsInterval = setInterval(() => {
      if (finalScreen.style.opacity !== "1") {
        clearInterval(floatingHeartsInterval);
        return;
      }
      const heart = document.createElement("i");
      heart.className = "fas fa-heart floating-heart";
      heart.style.left = (10 + Math.random() * 80) + "%";
      heart.style.top = (60 + Math.random() * 30) + "vh";
      heart.style.color = colors[Math.floor(Math.random() * colors.length)];
      heart.style.animationDuration = (4 + Math.random() * 3) + "s";
      heart.style.animationDelay = "0s";
      document.body.appendChild(heart);
      setTimeout(() => {
        heart.remove();
      }, 7000);
    }, 600);
  }

  // Sparkles animation
  let sparklesInterval;
  function startSparkles() {
    sparklesInterval = setInterval(() => {
      if (finalScreen.style.opacity !== "1") {
        clearInterval(sparklesInterval);
        return;
      }
      const sparkle = document.createElement("div");
      sparkle.className = "sparkle";
      sparkle.style.left = (10 + Math.random() * 80) + "%";
      sparkle.style.top = (20 + Math.random() * 60) + "vh";
      sparkle.style.animationDuration = (2 + Math.random() * 2) + "s";
      document.body.appendChild(sparkle);
      setTimeout(() => {
        sparkle.remove();
      }, 4000);
    }, 400);
  }

  // Next button click handler
  nextBtn.addEventListener("click", () => {
    if (!validateAnswer()) {
      showWrongMessage();
      return;
    }
    showPositiveMessage();
    transitionToNextQuestion();
  });

  // Loading screen timeout and start quiz
  window.addEventListener("load", () => {
    setTimeout(() => {
      loadingScreen.style.opacity = "0";
      setTimeout(() => {
        loadingScreen.style.display = "none";
        quizContainer.style.opacity = "1";
        renderQuestion();
      }, 700);
    }, 4000);
  });

  // Accessibility: allow Enter key to submit on text inputs
  document.addEventListener("keydown", (e) => {
    if (e.key === "Enter" && !nextBtn.disabled) {
      e.preventDefault();
      nextBtn.click();
    }
  });
</script>
</body>
</html>
